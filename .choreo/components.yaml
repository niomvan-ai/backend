components:
  - name: django-backend
    type: webapp
    source:
      type: git
      url: https://github.com/your-repo/backend.git
      branch: main
    build:
      language: python
      version: 3.9
      commands:
        - python -m pip install --upgrade pip
        - pip install -r requirements.txt
    run:
      command: python manage.py runserver 0.0.0.0:8000
    env:
      - name: DATABASE_URL
        value: postgresql://niomvan_ai_db_dt90_user:tqOuQK0zyFM8szOuorrzTpXW9Pl6AwOQ@dpg-cu1nv4l2ng1s73edp7ig-a.oregon-postgres.render.com/niomvan_ai_db_dt90
      - name: GOOGLE_API_KEY
        value: your_google_api_key_here
      - name: DJANGO_SECRET_KEY
        value: django-insecure-nma=xi6x2p-crjg^ifqqkapyu1qjd0l=+wn)-rijk_o%$!k3w_
      - name: DJANGO_DEBUG
        value: "True"
      - name: ALLOWED_HOSTS
        value: "*"
      - name: Gemini_API_Key
        value: AIzaSyCAIdH7VdasjEsI2LcgTp_hZMXcvLXWLuQ
    ports:
      - 8000

  - name: postgres-db
    type: database
    source:
      type: docker
      image: postgres:13
    env:
      - name: POSTGRES_USER
        value: niomvan_ai_db_dt90_user
      - name: POSTGRES_PASSWORD
        value: tqOuQK0zyFM8szOuorrzTpXW9Pl6AwOQ
      - name: POSTGRES_DB
        value: niomvan_ai_db_dt90
    ports:
      - 5432
